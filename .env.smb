# ==================================================
# DYOCENSE SMB MODE CONFIGURATION
# Simplified stack for small business focus
# ==================================================

# Deployment Mode
DEPLOYMENT_MODE=smb

# Application Settings
ENVIRONMENT=production
DEBUG=false
LOG_LEVEL=INFO

# MongoDB (Primary Data Store)
USE_MONGODB=true
MONGO_URI=mongodb+srv://username:password@cluster.mongodb.net/dyocense?retryWrites=true&w=majority
MONGO_DB_NAME=dyocense_smb
MONGO_MAX_POOL_SIZE=20
MONGO_MIN_POOL_SIZE=5

# Simplified Authentication (No Keycloak in SMB mode)
USE_KEYCLOAK=false
ALLOW_ANONYMOUS=false
ACCOUNTS_JWT_SECRET=your-secure-jwt-secret-here
ACCOUNTS_JWT_TTL=1440  # 24 hours

# OAuth Social Login (SMB-Optimized: Google, Microsoft, Apple)
# Get credentials from:
# - Google: https://console.cloud.google.com/apis/credentials
# - Microsoft: https://portal.azure.com/#blade/Microsoft_AAD_RegisteredApps
# - Apple: https://developer.apple.com/account/resources/identifiers/list/serviceId

# Google OAuth (Gmail / Google Workspace)
OAUTH_GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
OAUTH_GOOGLE_CLIENT_SECRET=your-google-client-secret
# OAUTH_GOOGLE_REDIRECT_URI=http://localhost:5173/auth/callback/google

# Microsoft OAuth (Outlook / Microsoft 365)
# OAUTH_MICROSOFT_CLIENT_ID=your-microsoft-client-id
# OAUTH_MICROSOFT_CLIENT_SECRET=your-microsoft-client-secret
# OAUTH_MICROSOFT_REDIRECT_URI=http://localhost:5173/auth/callback/microsoft

# Apple OAuth (Apple ID - requires Apple Developer account)
# OAUTH_APPLE_CLIENT_ID=your-apple-service-id
# OAUTH_APPLE_CLIENT_SECRET=your-apple-client-secret
# OAUTH_APPLE_REDIRECT_URI=http://localhost:5173/auth/callback/apple

# LLM Configuration (Azure OpenAI or OpenAI)
USE_LLM=true
LLM_PROVIDER=azure
AZURE_OPENAI_ENDPOINT=https://your-resource.openai.azure.com/
AZURE_OPENAI_API_KEY=your-api-key-here
AZURE_OPENAI_DEPLOYMENT=gpt-4
AZURE_OPENAI_API_VERSION=2024-02-15-preview
LLM_TEMPERATURE=0.7
LLM_MAX_TOKENS=2000

# Disabled Platform Features (Enable for "platform" mode)
USE_NEO4J=false
USE_QDRANT=false
ENABLE_EVIDENCE_GRAPH=false
ENABLE_VECTOR_SEARCH=false
ENABLE_TRANSACTIONS=false

# Feature Flags
ENABLE_CACHING=true
ENABLE_METRICS=true
STRICT_MODE=false
FORCE_INMEMORY_MODE=false

# OR Solver (Keep it simple)
SOLVER_DEFAULT=ortools
SOLVER_TIME_LIMIT=30

# Email/Notifications (Optional for SMB)
SMTP_HOST=smtp.sendgrid.net
SMTP_PORT=587
SMTP_USERNAME=apikey
SMTP_PASSWORD=your-sendgrid-api-key
FROM_EMAIL=support@dyocense.com

# Subscription & Billing
STRIPE_API_KEY=sk_test_your_stripe_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# Security
CORS_ORIGINS=https://app.dyocense.com,http://localhost:5173
RATE_LIMIT_PER_MINUTE=60
SESSION_SECRET=your-session-secret-here

# Admin Tenant
ADMIN_TENANT_ID=admin-dyocense
ADMIN_API_TOKEN=admin-secure-token-change-this

# Trial Configuration
TRIAL_DAYS=7
ALLOW_OWNER_BOOTSTRAP_LOGIN=false

# ==================================================
# COST OPTIMIZATION FOR SMB MODE
# ==================================================
# Estimated monthly cost: $50-200
# - MongoDB Atlas: $0-57/month (M0 free tier or M10 shared)
# - Azure OpenAI: $100-150/month (pay per use)
# - Hosting: $20-50/month (Railway, Render, or similar)
# 
# vs Platform Mode: $500-1000+/month
# - Add Neo4j Aura: $65-200/month
# - Add Qdrant Cloud: $25-100/month
# - Add Keycloak hosting: $20-50/month
# - Higher compute requirements: $200-400/month
# ==================================================
